<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link rel="icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSnQ6rAa2axGMNtSAh5h6EVhgEbspZpdOXt9g&s" type="image/x-icon">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            background-color: #f4f5f7;
            color: #333;
            margin: 0;
            padding: 0;
        }

        h4 {
            color: #1f2937;
        }

        a {
            text-decoration: none;
        }

        .menu-item {
            display: block;
            width: 92%;
            padding: 15px;
            margin: 10px 0;
            background-color: rgba(35, 208, 15, 0.867);
            color: #fff;
            text-align: center;
            border-radius: 8px;
            transition: background-color 0.3s ease;
            font-size: 16px;
            height: 2%;
        }

        .menu-item:hover {
            background-color: rgba(53, 202, 37, 0.541);
            transform: translateY(-2px);
        }

        .home1, .home2 {
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .home1 {
            flex: 3;
        }

        .home2 {
            flex: 1;
            text-align: center;
        }

        .group {
            display: flex;
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }

        .container {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 3%;
        }

        .container h3 {
            margin-bottom: 20px;
            color: #007bff;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        input, select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        #result-box {
            margin-top: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            color: #495057;
        }

        #stocksContainer {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stock-box {
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stock-box:hover {
            transform: translateY(-5px);
            background-color: #cacacae3;
        }

        .stock-box h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #007bff;
        }

        .stock-box .symbol {
            font-size: 14px;
            color: #6c757d;
        }

        .stock-box .price {
            font-size: 24px;
            font-weight: bold;
            color: #28a745;
        }

        @media (max-width: 768px) {
            .group {
                flex-direction: column;
                gap: 15px;
            }

            .home1, .home2 {
                padding: 15px;
            }
        }

        .change {
            font-weight: bold;
            margin-left: 10px;
        }
        .change.positive {
            color: green;
        }
        .change.negative {
            color: red;
        }

        .container {
            max-width: 800px;
            width: 100%; /* ปรับให้ขนาดของกล่องยืดตามเนื้อหา */
            padding: 10px;
            background-color: rgba(182, 182, 182, 0.671);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgb(102, 8, 8);
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box; /* รวม padding และ border ในขนาดกล่อง */
            margin: 2% auto; /* ตั้งให้อยู่กึ่งกลางและเพิ่มระยะด้านบน */
        }

        .amount {
            display: flex;
            justify-content: space-around;
            align-items: baseline;
            gap: 20px;
        }

    </style>
</head>
<body>
    <div class="group">
        <div class="home1">
            <h4>Thoresen Thai Agencies Business Insight Home</h4>
            <hr>
            <div id="stocksContainer">
                <div id="stocksContainer"></div>
            </div>
            <div class="container">
                <h3>เครื่องคำนวณอัตราแลกเปลี่ยน</h3>
                <div class="input-group">
                    <div class="currency-row">
                        <select id="fromCurrency">
                            <option value="THB">THB - บาทไทย</option>
                            <option value="USD">USD - ดอลลาร์สหรัฐ</option>
                            <option value="EUR">EUR - ยูโร</option>
                            <option value="JPY">JPY - เยนญี่ปุ่น</option>
                            <option value="GBP">GBP - ปอนด์อังกฤษ</option>
                        </select>
                        เเปลงเป็น
                        <select id="toCurrency">
                            <option value="USD">USD - ดอลลาร์สหรัฐ</option>
                            <option value="THB">THB - บาทไทย</option>
                            <option value="EUR">EUR - ยูโร</option>
                            <option value="JPY">JPY - เยนญี่ปุ่น</option>
                            <option value="GBP">GBP - ปอนด์อังกฤษ</option>
                        </select>
                    </div>
                    <div class="amount">
                        <input type="number" id="amount" placeholder="กรอกจำนวนเงิน"/> -
                        <div id="result-box">ผลลัพธ์จะแสดงที่นี่</div>
                        <div id="exchangeRate"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="home2">
            <h4>TTA Groups Business Insight</h4>
            <h4>Group Financial Info :</h4>
            <a href="Summary.html" class="menu-item">Summary Financial</a>
            <a href="Detail.html" class="menu-item">Detail Financial Data</a>
            <a href="Structure.html" class="menu-item">TTA Group Structure & info</a><br>
            <a href="Key.html" class="menu-item">TTA Group Key Asset</a>
            <a href="Forecast.html" class="menu-item">TTA Forecast by Month</a>
            <a href="Headcont.html" class="menu-item">Headcont and people cost</a>
        </div>
    </div>
</body>
</html>
<script>
    // ข้อมูลหุ้นที่ต้องการติดตาม
    const stocks = [
        { name: 'TTA.BKK', symbol: 'TTA' },
        { name: 'PMTA.BKK', symbol: 'PMTA' },
        { name: 'UMS.BKK', symbol: 'UMS' },
        { name: 'VLE.BKK', symbol: 'VLE' },
        { name: 'MML.BKK', symbol: 'MML' },
        { name: 'Bitcoin (BTC)', symbol: 'BTC' },
        { name: 'Oil Price (WTI)', symbol: 'WTI' },
        { name: 'Supramax 58 TCE', symbol: 'TCE' },
        { name: 'Baltic Dry Index (BDI)', symbol: 'BDI' }
    ];

    // ฟังก์ชันสร้าง UI
    function createStockBoxes() {
        const container = document.getElementById('stocksContainer');
        container.innerHTML = ''; // เคลียร์ข้อมูลเก่าก่อน
        stocks.forEach(stock => {
            const stockBox = document.createElement('div');
            stockBox.className = 'stock-box';
            stockBox.id = `box-${stock.symbol}`;
            stockBox.innerHTML = `
                <h3>${stock.name}</h3>
                <div class="symbol">Symbol: ${stock.symbol}</div>
                <div class="price" id="price-${stock.symbol}">Loading...</div>
                <div class="change" id="change-${stock.symbol}">Loading...</div>
            `;
            container.appendChild(stockBox);
        });
    }

    // ฟังก์ชันอัปเดตข้อมูล
    async function updateStockData() {
        stocks.forEach(async (stock) => {
            try {
                let price = 'N/A';
                let change = 'N/A';

                // ตัวอย่าง: ดึงข้อมูลจาก API (กำหนด API จริงสำหรับแต่ละ symbol)
                if (stock.symbol === 'BTC') {
                    const btcData = await fetchBitcoinData();
                    price = `$${btcData.price.toFixed(2)}`; // ทศนิยม 2 ตำแหน่ง
                    change = `${btcData.change.toFixed(2)}%`; // ทศนิยม 2 ตำแหน่ง
                } else if (stock.symbol === 'WTI') {
                    const oilData = await fetchOilPrice();
                    price = `$${oilData.price.toFixed(2)}`; // ทศนิยม 2 ตำแหน่ง
                    change = `${oilData.change.toFixed(2)}%`; // ทศนิยม 2 ตำแหน่ง
                } else {
                    // หุ้นอื่น ๆ
                    const stockData = await fetchStockData(stock.symbol);
                    price = `฿${stockData.price.toFixed(2)}`; // ทศนิยม 2 ตำแหน่ง
                    change = `${stockData.change.toFixed(2)}%`; // ทศนิยม 2 ตำแหน่ง
                }

                // อัปเดต UI
                document.getElementById(`price-${stock.symbol}`).textContent = `Price: ${price}`;
                const changeElement = document.getElementById(`change-${stock.symbol}`);
                changeElement.textContent = `Change: ${change}`;
                changeElement.className = `change ${stockData.change >= 0 ? 'positive' : 'negative'}`;

            } catch (error) {
                console.error(`Error updating ${stock.symbol}:`, error);
            }
        });
    }

    // ตัวอย่างฟังก์ชัน API
    async function fetchBitcoinData() {
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
        const data = await response.json();
        return { price: data.bitcoin.usd, change: 1.234 }; // ทศนิยม 3 ตำแหน่ง
    }

    async function fetchOilPrice() {
        return { price: 75.54321, change: -0.12345 }; // ทศนิยม 3 ตำแหน่ง
    }

    async function fetchStockData(symbol) {
        return { price: Math.random() * 100, change: Math.random() * 10 - 5 }; // ทศนิยม 3 ตำแหน่ง
    }

    // โหลดข้อมูลเมื่อเปิดหน้า
    createStockBoxes();
    updateStockData();

    // อัปเดตข้อมูลทุก 10 นาที
    setInterval(updateStockData, 10 * 60 * 1000);





    const fromCurrency = document.getElementById('fromCurrency');
    const toCurrency = document.getElementById('toCurrency');
    const amountInput = document.getElementById('amount');
    const resultBox = document.getElementById('result-box');
    const exchangeRateBox = document.getElementById('exchangeRate');

    // จำลองอัตราแลกเปลี่ยน
    const exchangeRates = {
        THB: { USD: 0.03, EUR: 0.028, JPY: 3.5, GBP: 0.025 },
        USD: { THB: 33.5, EUR: 0.94, JPY: 135.0, GBP: 0.75 },
        EUR: { THB: 36.5, USD: 1.06, JPY: 145.0, GBP: 0.8 },
        JPY: { THB: 0.26, USD: 0.0074, EUR: 0.0069, GBP: 0.0055 },
        GBP: { THB: 42.5, USD: 1.33, EUR: 1.25, JPY: 181.5 }
    };

    function formatNumber(number) {
        return number.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        return new Intl.NumberFormat().format(number);
    }

    function updateCurrencyOptions() {
        const fromValue = fromCurrency.value;
        const toValue = toCurrency.value;

        // ปิดตัวเลือกใน `toCurrency` ตามค่าที่เลือกใน `fromCurrency`
        Array.from(toCurrency.options).forEach(option => {
            option.disabled = option.value === fromValue;
        });

        // ปิดตัวเลือกใน `fromCurrency` ตามค่าที่เลือกใน `toCurrency`
        Array.from(fromCurrency.options).forEach(option => {
            option.disabled = option.value === toValue;
        });
    }

    async function convertCurrency() {
        const amount = parseFloat(amountInput.value);
        const fromValue = fromCurrency.value;
        const toValue = toCurrency.value;

        if (isNaN(amount) || amount <= 0) {
            resultBox.textContent = "กรุณากรอกจำนวนเงินที่ถูกต้อง";
            exchangeRateBox.textContent = '';
            return;
        }

        // ใช้อัตราแลกเปลี่ยนจำลอง
        const rate = exchangeRates[fromValue][toValue];
        const convertedAmount = (amount * rate).toFixed(2);

        // แสดงผลพร้อมจัดรูปแบบตัวเลข
        resultBox.textContent = `= ${formatNumber(convertedAmount)} ${toValue}`;

        // ${formatNumber(amount)} ${fromValue} ส่วนที่ตัดออกเป็นเเสดงยอดที่กรอก

        // แสดงอัตราแลกเปลี่ยน
        // exchangeRateBox.textContent = `อัตราแลกเปลี่ยน: 1 ${fromValue} = ${formatNumber(rate)} ${toValue}`;
    }

    // ฟังการเปลี่ยนแปลงใน `fromCurrency`, `toCurrency`, และ `amount`
    fromCurrency.addEventListener('change', () => {
        updateCurrencyOptions();
        convertCurrency();
    });
    toCurrency.addEventListener('change', () => {
        updateCurrencyOptions();
        convertCurrency();
    });
    amountInput.addEventListener('input', convertCurrency);

    // เรียกใช้ครั้งแรกเมื่อโหลดหน้าเว็บ
    updateCurrencyOptions();

</script>
</body>
</html>